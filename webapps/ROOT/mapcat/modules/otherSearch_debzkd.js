/**/﻿_jsload&&_jsload('otherSearch', 'function gu(i,e){var T=document.createElement("script");T.onload=function(je){T.parentNode.removeChild(T);e&&e(je)};T.src=i;document.getElementsByTagName("head")[0].appendChild(T)}ev.extend(cB.prototype,{getCurrentPosition:function(jh,jk){var ji=this;var T=false;jk=jk||{};ji.config={timeout:jk.timeout||ji.config.timeout,maximumAge:jk.maximumAge||ji.config.maximumAge,enableHighAccuracy:jk.enableHighAccuracy||ji.config.enableHighAccuracy,SDKLocation:jk.SDKLocation||ji.config.SDKLocation};var e=setTimeout(function(){if(T){return}ji.statusCode=BMAP_STATUS_TIMEOUT;i(null)},ji.config.timeout+2000);var jf=function(jl){if(T||BMapGL===null){return}if(e){clearTimeout(e);e=null}ji.geolocationInfo=jl;jh.apply(ji,arguments);T=true};var i=function(jl){if(T){return}if(e){clearTimeout(e);e=null}ji.geolocationInfo=jl;jh.apply(ji,arguments);T=true};function jj(jl){if(eE.checkUsability()){var jm=new eE({timeout:ji.config.timeout,maximumAge:ji.config.maximumAge,enableHighAccuracy:ji.config.enableHighAccuracy});jm.getCurrentPosition(function(jn){jf(jn)},function(jn){switch(jn.errorCode){case jn.ERR_PERMISSION_DENIED:case jn.ERR_INSECURE_ORIGINS:ji.statusCode=BMAP_STATUS_PERMISSION_DENIED;if(ji.config.enableHighAccuracy){jl()}else{i(null)}break;case jn.ERR_POSITION_UNAVAILABLE:ji.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;jl();break;case jn.ERR_TIMEOUT:ji.statusCode=BMAP_STATUS_TIMEOUT;jl();break}});return}}function jg(jl){if(dB.checkUsability()){var jm=new dB({});jm.getCurrentPosition(function(jn){jf(jn)},function(jn){jl()});return}jl()}function je(jl){var jm=new hW({SDKLocation:ji.config.SDKLocation});jm.getCurrentPosition(function(jn){jf(jn)},function(){jl()})}je(function(){jj(function(){jg(function(){ji.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;i(null)})})})},getStatus:function(){if(this.geolocationInfo){this.statusCode=BMAP_STATUS_SUCCESS}return this.statusCode}});cB.prototype.getCurrentPosition=cB.prototype.getCurrentPosition;cB.prototype.getStatus=cB.prototype.getStatus;function eE(e){this.config={timeout:e.timeout||1000*5,maximumAge:e.maximumAge||0,enableHighAccuracy:e.enableHighAccuracy||false}}eE.checkUsability=function(){if(navigator.geolocation){return true}return false};ev.extend(eE.prototype,{getCurrentPosition:function(e,i){var je=function(jg){if(/BIDUBrowser/i.test(navigator.userAgent)){var jj=new a7();jj.getLocation(new cf(jg.coords["longitude"],jg.coords["latitude"]),function(jk){var jl=new gO();jl.accuracy=jg.coords["accuracy"]>1999?1999:jg.coords["accuracy"];jl.longitude=jg.coords["longitude"];jl.latitude=jg.coords["latitude"];jl.point=new cf(jl.longitude,jl.latitude);if(jk.addressComponents){if(jk.addressComponents["province"]){jl.address.province=jk.addressComponents["province"]}if(jk.addressComponents["city"]){jl.address.city=jk.addressComponents["city"]}if(jk.addressComponents["district"]){jl.address.district=jk.addressComponents["district"]}if(jk.addressComponents["street"]){jl.address.street=jk.addressComponents["street"]}if(jk.addressComponents["streetNumber"]){jl.address.street_number=jk.addressComponents["streetNumber"]}}e(jl)});return}var ji=Math.floor(Math.random()*100000);var jh="_cbk"+ji;window.baidu=window.baidu||{};window.baidu[jh]=function(jl){var jk={x:jl.x,y:jl.y};var jo=new cf(jk.x,jk.y);var jn=new gO();jn.accuracy=jg.coords["accuracy"]>1999?1999:jg.coords["accuracy"];jn.longitude=jo.lng;jn.latitude=jo.lat;jn.point=new cf(jo.lng,jo.lat);var jm=new a7();jm.getLocation(jo,function(jp){var jq=jp.addressComponents;if(jq){if(jq.province){jn.address.province=jq.province}if(jq.city){jn.address.city=jq.city}if(jq.district){jn.address.district=jq.district}if(jq.street){jn.address.street=jq.street}if(jq.streetNumber){jn.address.street_number=jq.streetNumber}}e(jn)})};var jf=["qt=coordtrans","x="+jg.coords["longitude"],"y="+jg.coords["latitude"],"from=0","to=4","callback=baidu."+jh];gu(w.apiHost+"/?"+jf.join("&"))};var T=function(jf){var jg=new c6();if(jf.code===jf.PERMISSION_DENIED&&jf.message.indexOf("secure")===-1){jg.errorCode=jg.ERR_PERMISSION_DENIED;jg.errorMessage="用户拒绝定位请求"}if(jf.code===jf.POSITION_UNAVAILABLE){jg.errorCode=jg.ERR_POSITION_UNAVAILABLE;jg.errorMessage="定位不可用"}if(jf.message.indexOf("secure")>-1){jg.errorCode=jg.ERR_INSECURE_ORIGINS;jg.errorMessage="定位请求需要https环境"}if(jf.code===jf.TIMEOUT){jg.errorCode=jg.ERR_TIMEOUT;jg.errorMessage="定位超时"}i(jg)};navigator.geolocation.getCurrentPosition(je,T,{enableHighAccuracy:this.config.enableHighAccuracy,timeout:this.config.timeout,maximumAge:this.config.maximumAge})}});function dB(e){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"}}dB.checkUsability=function(){return true};ev.extend(dB.prototype,{getCurrentPosition:function(T,jf){var jg=Math.floor(Math.random()*100000);var je="_cbk"+jg;window[je]=function(jh){if(jh.result){if(jh.result["error"]===161){if(jh.content&&jh.content["location"]){var ji=new gO();ji.accuracy=jh.content["radius"];ji.longitude=jh.content["location"]["lng"];ji.latitude=jh.content["location"]["lat"];ji.point=new cf(jh.content["location"]["lng"],jh.content["location"]["lat"])}if(jh.content&&jh.content["address_component"]){if(jh.content["address_component"]["country"]){ji.address.country=jh.content["address_component"]["country"]}if(jh.content["address_component"]["province"]){ji.address.province=jh.content["address_component"]["province"]}if(jh.content["address_component"]["city"]){ji.address.city=jh.content["address_component"]["city"]}if(jh.content["address_component"]["district"]){ji.address.district=jh.content["address_component"]["district"]}if(jh.content["address_component"]["street"]){ji.address.street=jh.content["address_component"]["street"]}if(jh.content["address_component"]["street_number"]){ji.address.street_number=jh.content["address_component"]["street_number"]}}T(ji);return}else{if(jh.result["error"]===0){if(jh.content&&jh.content["location"]){var ji=new gO();ji.longitude=jh.content["location"]["lng"];ji.latitude=jh.content["location"]["lat"];ji.point=new cf(jh.content["location"]["lng"],jh.content["location"]["lat"])}if(jh.content&&jh.content["address_component"]){if(jh.content["address_component"]["country"]){ji.address.country=jh.content["address_component"]["country"]}if(jh.content["address_component"]["province"]){ji.address.province=jh.content["address_component"]["province"]}if(jh.content["address_component"]["city"]){ji.address.city=jh.content["address_component"]["city"]}if(jh.content["address_component"]["district"]){ji.address.district=jh.content["address_component"]["district"]}if(jh.content["address_component"]["street"]){ji.address.street=jh.content["address_component"]["street"]}if(jh.content["address_component"]["street_number"]){ji.address.street_number=jh.content["address_component"]["street_number"]}}T(ji);return}}}var jj=new c6();jj.errorCode=jj.ERR_POSITION_UNAVAILABLE;jj.errorMessage="请求IP地理定位信息失败";jf(jj)};var i="pc";if(bK()){i="mb"}var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:el,qt:iL,};iZ.request(function(ji,jh){window[je](ji)},e)}});function hW(e){this.config={SDKLocation:e.SDKLocation||false}}ev.extend(hW.prototype,{getCurrentPosition:function(i,je){var jf=Math.floor(Math.random()*100000);var T="_cbk"+jf;window.baidu=window.baidu||{};window.baidu[T]=function(jh){jh=JSON.parse(jh);if(jh&&jh.errorcode===1){jf=Math.floor(Math.random()*100000);T="_cbk"+jf;window.baidu=window.baidu||{};window.baidu[T]=function(jj){var ji={x:jj.x,y:jj.y};var jm=new cf(ji.x,ji.y);var jl=new gO();jl.longitude=jm.lng;jl.latitude=jm.lat;jl.point=new cf(jm.lng,jm.lat);var jk=new a7();jk.getLocation(jm,function(jn){var jo=jn.addressComponents;if(jo){if(jo.province){jl.address.province=jo.province}if(jo.city){jl.address.city=jo.city}if(jo.district){jl.address.district=jo.district}if(jo.street){jl.address.street=jo.street}if(jo.streetNumber){jl.address.street_number=jo.streetNumber}}i(jl)})};var jg=["qt=coordtrans","x="+jh.longitude,"y="+jh.latitude,"from=0","to=4","callback=baidu."+T];gu(w.apiHost+"/?"+jg.join("&"))}else{je()}};if(this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var e={action:"requestLoc",callback:"baidu."+T};window.BaiduLocAssistant.sendMessage(JSON.stringify(e))}else{je()}}});function gO(){this.accuracy=null;this.altitude=null;this.altitudeAccuracy=null;this.heading=null;this.latitude=null;this.longitude=null;this.speed=null;this.timestamp=null;this.point=null;this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function c6(e){this.errorType="geolocation";this.errorMessage=e;this.errorCode=1;this.ERR_PERMISSION_DENIED=1;this.ERR_POSITION_UNAVAILABLE=2;this.ERR_TIMEOUT=3;this.ERR_INSECURE_ORIGINS}ev.extend(a7.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var je=this._queryList[T];this[je.method].apply(this,je.arguments)}delete this._queryList},getPoint:function(e,jf,je){var T=this;je=je||"北京市";var i=/^[ \\s]*$/;if(i.test(e)){return}iZ.request(function(jq){if(jq&&jq.result&&jq.result["type"]==eD){var js=jq.result;var jl=jq.content;var jp=null;var jr=null;if(js){if(js.error==0&&jl){var jn=jl.coord["x"];var jm=jl.coord["y"];var jh=jl.cn;var ji=jl.sc;var jo=jl.wd;var jj=jl.prc;var jk=jl.fuzzy_score;var jg=jl.catalog;jp=new cf(jn,jm);jp=ig.convertMC2LL(jp);jr={city:jh,citycode:ji,address:jo,precise:jj,confidence:jk,level:jg}}}jf&&jf(jp,jr)}},{qt:fi,wd:e,cn:je})},getLocation:function(i,ji,jf){if(!(i instanceof cf||i instanceof b9)&&ji){ji(null);return}var je=this;var i=ig.convertLL2MC(i);var e=i.lng;var jh=i.lat;var jf=jf||{};var T=jf.poiRadius||100;var jg=jf.numPois||10;iZ.request(function(jz){var jm=null;if(jz&&jz.result&&jz.result["type"]==hC){var jp=jz.result;var jw=jz.content;var jo;var jq={};var jr=[];var jt;if(jp.error==0&&jw){var jA=jw.address_detail;var jx=jA.city;if(jA){jq.streetNumber=jA.street_number;jq.street=jA.street;jq.district=jA.district;jq.city=jx;jq.province=jA.province}jt=jw.point;var jv=new cf(jt.x,jt.y);jv=ig.convertMC2LL(jv);var jl=jw.surround_poi;if(jl&&jl.length){for(var jy=0,ju=jl.length;jy<ju;jy++){var jk={},jn=jl[jy];jk.title=jn.name;jk.uid=jn.uid;var js=new cf(jn.point["x"],jn.point["y"]);js=ig.convertMC2LL(js);jk.point=js;jk.city=jx;jk._poiType=jn.poiType;jk.type=BMAP_POI_TYPE_NORMAL;jk.address=jn.addr;jk.postcode=jn.zip||null;jk.phoneNumber=jn.tel||null;var jj=jk._poiType;if(jj.length!==0){jk.tags=jj.split(",")}jr.push(jk)}}jm={point:jv,address:jw.address,addressComponents:jq,surroundingPois:jr,business:jw.business}}}ji&&ji(jm)},{qt:dw,x:e,y:jh,dis_poi:T,poi_num:jg,latest_admin:"1"})}});ev.extend(eQ.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var je=this._queryList[T];this[je.method].apply(this,je.arguments)}delete this._queryList},get:function(je,e){var jg={};jg.boundaries=[];if(je==="中国"||je==="全国"||je==="中华人民共和国"){e&&e(jg);return}var jh=this;var T=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if(je==="台湾省"||je==="台湾"){for(var jf=0;jf<6;jf++){jg.boundaries[jf]=T[jf]}jg.boundaries[6]=T[9];e&&e(jg)}if(je==="钓鱼岛"){for(var jf=0;jf<1;jf++){jg.boundaries[jf]=T[6]}e&&e(jg)}if(je==="赤尾屿"){for(var jf=0;jf<1;jf++){jg.boundaries[jf]=T[7]}e&&e(jg)}iZ.request(function(i){if((i&&i.content&&i.content.uid)||je){var ji=(i.content&&i.content.uid)?i.content.uid:"";iZ.request(function(jy){if(jy&&jy.content&&jy.content["geo"]){var jn=by.parseGeo(jy.content["geo"],false);if(jn.geo&&jn.geo.length&&jn.geo.length>0){var jD=jn.geo.length;for(jF=0;jF<jD;jF++){var jm=jn.geo[jF];if(jm&&jm.length&&jm.length>0){var jv=jm.length-1;var jC=[];var ju=false;var jB=0;var jA=0;for(var jE=0;jE<jv;jE+=2){var js=jm[jE];var jp=jm[jE+1];var jz=new cf(js,jp);jz=ig.convertMC2LL(jz);if(jE<jv-3){var jk=jm[jE+2];var jj=jm[jE+3];var jx=new cf(jk,jj);jx=ig.convertMC2LL(jx)}var jw=function(jJ,jI){if(jJ.lng>109&&jJ.lng<113&&jJ.lat>15&&jJ.lat<19){if((jJ.lng-jI.lng)>1&&(jJ.lat-jI.lat<-1)){ju=true;jB=jE/2}if((jJ.lng-jI.lng)<-1&&(jJ.lat-jI.lat>1)){ju=true;jA=jE/2}}};if(je.indexOf("全国")>-1||je.indexOf("中国")>-1||je.indexOf("中华人民共和国")>-1){var jr=function(jI){return((jI.lng>=117.546263&&jI.lng<=118.711042)&&(jI.lat>=38.697981&&jI.lat<=38.91302))};var jl=function(jI){return((jI.lng>=113.576516&&jI.lng<=113.638822)&&(jI.lat>=22.146067&&jI.lat<=22.156645))};if(jr(jz)||jl(jz)){jC.length=0;break}jw(jz,jx)}if(je.indexOf("海南")>-1){jw(jz,jx)}jC.push(jz.lng+", "+jz.lat)}if(ju===true){if(jB>jA){var jG=jB;jB=jA;jA=jG}var jt=jC;var jq=jC.splice(jB+1);var jo=jq.splice(jA-jB);jt=jt.concat(jo);jg.boundaries.push(jt.join(";"));jg.boundaries.push(jq.join(";"));ju=false;continue}if(jC.length!==0){jg.boundaries.push(jC.join(";"))}}}}}var jH=jg.boundaries.length;if((je==="中国"||je==="全国"||je==="中华人民共和国")&&jg.boundaries.length>0){for(var jF=0;jF<T.length-1;jF++){jg.boundaries[jH+jF]=T[jF]}}e&&e(jg)},{qt:h9,num:1000,l:10,uid:ji,adname:je})}else{e&&e(jg)}},{qt:D,wd:je})},parsebdStr:function(jk,jo){var jg={};jg.boundaries=[];var je=by.parseGeo(jk,false);if(je.geo&&je.geo.length&&je.geo.length>0){var e=je.geo.length;for(var jh=0;jh<e;jh++){var T=je.geo[jh];if(T&&T.length&&T.length>0){var jm=T.length-1;var jk=[];for(var jf=0;jf<jm;jf+=2){var jn=T[jf];var jl=T[jf+1];var jq=new cf(jn,jl);jq=ig.convertMC2LL(jq);if(jf<jm-3){var jj=T[jf+2];var ji=T[jf+3];var jp=new cf(jj,ji);jp=ig.convertMC2LL(jp)}jk.push(jq.lng+", "+jq.lat)}if(jk.length!==0){jg.boundaries.push(jk.join(";"))}}}}jo&&jo(jg)},_parseGeoSpecial:function(jh){var jk=this;var je=[];if(typeof(jh)!="string"){return je}var T=jh.split("|");var jo=T[2];var jg=jo.split(";");for(var ji=0;ji<jg.length-1;ji++){var jn=jg[ji];var jj=[];var e=jn.split(",");for(var jf=0;jf<e.length;jf+=2){var jm=e[jf];var jl=e[jf+1];var jp=new cf(jm,jl);jp=ig.convertMC2LL(jp);jj.push(jp.lng+", "+jp.lat)}je.push(jj.join(";"))}return je}});ev.extend(eJ.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var je=this._queryList[T];this[je.method].apply(this,je.arguments)}delete this._queryList},get:function(i){var e=this;iZ.request(function(jg){if(jg&&jg.content&&jg.status===0){var ji=jg.content;var jj=e._opts.renderOptions.map;var jk=jj?jj.getZoom():5;var jf=ji.address_detail["city"];var jh=ji.address_detail["city_code"];var je=new cf(ji.point.x,ji.point.y);jk=by.getBestLevel(jk,jj);if(jj){jj.centerAndZoom(je,jk)}var T={center:je,level:jk,name:jf,code:jh};i&&i(T)}else{i&&i({})}},{qt:hB})}});');
